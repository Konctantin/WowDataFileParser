<?xml version="1.0"?>

<!--                     Инструкция
    Описание файла
     * name  - Имя файла, для которого указана структура
     * table - Имя таблицы в базе данных

    Описание столбцов:
     * name     - Наименование столбца, если имя пустое - тогда данные не будут записаны в базу данных.
                  Важно: Если на этот столбец будет ссылатся другое поле "size" - тогда имя должно быть указано.
     * key      - Указывает, что поле является ключевым (необходим для генерации sql скрипта с таблицами)
     * size     - Размер поля в битах или имя поля содержащее размер.
     * maxsize  - Mаксимальный размер списка (обязательный параметр для type == list)
     * type     - Тип данных:
                    * byte    - 8  byte и size - количество бит
                    * sbyte   - 8  byte и size - количество бит
                    * short   - 16 byte и size - количество бит
                    * ushort  - 16 byte и size - количество бит
                    * int     - 32 byte и size - количество бит
                    * uint    - 32 byte и size - количество бит
                    * long    - 64 byte и size - количество бит
                    * ulong   - 64 byte и size - количество бит
                    * float   - 32 с плавающей запятой
                    * double  - 64 с плавающей запятой

                    * string  - строка с '\0' окончанием.
                                если строка содержит аттрибут size (строка)- тогда длинна строки содержится в указанном поле.
                                если строка содержит аттрибут size (число) - тогда читается строка с указанной длинной.
                    * string2 - то же самое что и string, только читаются данные если (size) > 1

                    * pstring - (pascalstring) строка которая содержит длинну в начале,
                                обязательный параметр size - в котором указн размер записи с длинной в битах

                    * list    - тип данных который сожержит вложенную структуру.
                                для этого типа обязательный аттрибут maxsize.
                                Если указан только maxsize - тогда это список с постоянной длиной.
                                атрибут size (число)  - тогда сначала считывается размер списка (указывается в битах).
                                атрибут size (строка) - ссылка на поле с размером списка.
    -->

<Definition xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
    <!-- Провека на билд кеша, если значение равно 0 - тогда проверки нету -->
    <build>0</build>

    <file name="Item.(db2|adb)" table="item">
        <field type="uint"   name="entry" key="true"/>
        <field type="uint"   name="class"/>
        <field type="uint"   name="subclass"/>
        <field type="int"    name="unk0"/>
        <field type="int"    name="material"/>
        <field type="uint"   name="displayid"/>
        <field type="uint"   name="inventorytype"/>
        <field type="uint"   name="sheath"/>
        <field type="uint"   name="unk"/> <!--wod-->
    </file>

    <file name="Item-sparse.(db2|adb)" table="item_sparse">
        <field type="int"    name="entry" key="true" />
        <field type="int"    name="quality" />
        <field type="uint"   name="flags1" />
        <field type="uint"   name="flags2" />
        <field type="uint"   name="flags3" />
        <field type="float"  name="unk431" />
        <field type="float"  name="unk432" />
        <field type="uint"   name="buycount" />
        <field type="uint"   name="buyprice" />
        <field type="uint"   name="sellprice" />
        <field type="int"    name="inventorytype" />
        <field type="int"    name="allovedclasses" />
        <field type="int"    name="allovedraces" />
        <field type="uint"   name="itemlevel" />
        <field type="uint"   name="requiredlevel" />
        <field type="uint"   name="requiredskill" />
        <field type="uint"   name="requiredskilllevel" />
        <field type="int"    name="requiredspell" />
        <field type="uint"   name="requiredhonorrank" />
        <field type="uint"   name="requiredcityrank" />
        <field type="uint"   name="requiredrepfaction" />
        <field type="uint"   name="requiredrepvalue" />
        <field type="int"    name="maxcount" />
        <field type="int"    name="maxstacksize" />
        <field type="uint"   name="containerslots" />
        <field type="list" maxsize="10">
            <field type="int" name="stat_type" />
        </field>
        <field type="list" maxsize="10">
            <field type="int" name="stat_value" />
        </field>
        <field type="list" maxsize="10">
            <field type="int" name="stat_unk1" />
        </field>
        <field type="list" maxsize="10">
            <field type="int" name="stat_unk2" />
        </field>
        <field type="int"    name="scalingstatdistribution" />
        <field type="int"    name="damagetype" />
        <field type="uint"   name="delay" />
        <field type="float"  name="rangedmod" />
        <field type="int"    name="bonding" />
        <field type="string" name="name" />
        <field type="string" name="name2" />
        <field type="string" name="name3" />
        <field type="string" name="name4" />
        <field type="string" name="description" />
        <field type="uint"   name="pagetext" />
        <field type="int"    name="lenguage" />
        <field type="int"    name="pagematerial" />
        <field type="int"    name="startquest" />
        <field type="uint"   name="lockid" />
        <field type="int"    name="material" />
        <field type="int"    name="sheath" />
        <field type="int"    name="randomproperty" />
        <field type="uint"   name="randomsuffix" />
        <field type="uint"   name="itemset" />
        <field type="int"    name="area" />
        <field type="int"    name="map" />
        <field type="int"    name="bagfamily" />
        <field type="int"    name="totemcategory" />
        <field type="list" maxsize="3">
            <field type="int" name="socketcolor" />
        </field>
        <field type="int"    name="socketbonus" />
        <field type="int"    name="gemproperties" />
        <field type="float"  name="armordamagemodifier" />
        <field type="uint"   name="duration" />
        <field type="int"    name="itemlimitcategory" />
        <field type="int"    name="holidayid" />
        <field type="float"  name="statscalingfactor" />
        <field type="int"    name="currencysubstitution" />
        <field type="int"    name="currencysubstitutioncount" />
        <field type="int"    name="itemnamedescription" />
    </file>

    <file name="creaturecache.wdb" table="creaturecache">
        <field type="uint"   name="entry" key="true"/>

        <field type="int"    name="subname_len"        size="11"/>
        <field type="int"    name="unk_text_len"       size="11"/>
        <field type="int"    name="icon_name_len"      size="6"/>

        <field type="byte"   name="racial_leader"      size="1" />

        <field type="int"    name="male_names_len_1"   size="11"/>
        <field type="int"    name="female_names_len_1" size="11"/>
        <field type="int"    name="male_names_len_2"   size="11"/>
        <field type="int"    name="female_names_len_2" size="11"/>
        <field type="int"    name="male_names_len_3"   size="11"/>
        <field type="int"    name="female_names_len_3" size="11"/>
        <field type="int"    name="male_names_len_4"   size="11"/>
        <field type="int"    name="female_names_len_4" size="11"/>

        <field type="string2" name="male_name_1"       size="male_names_len_1"/>
        <field type="string2" name="female_name_1"     size="female_names_len_1"/>
        <field type="string2" name="male_name_2"       size="male_names_len_2"/>
        <field type="string2" name="female_name_2"     size="female_names_len_2"/>
        <field type="string2" name="male_name_3"       size="male_names_len_3"/>
        <field type="string2" name="female_name_3"     size="female_names_len_3"/>
        <field type="string2" name="male_name_4"       size="male_names_len_4"/>
        <field type="string2" name="female_name_4"     size="female_names_len_4"/>

        <field type="uint"   name="type_flag"/>
        <field type="uint"   name="type_flag2"/>
        <field type="uint"   name="type"/>
        <field type="int"    name="family"/>
        <field type="uint"   name="rank"/>

        <field type="uint"   name="KillCredit1"/>
        <field type="uint"   name="KillCredit2"/>

        <field type="uint"   name="modelId1"/>
        <field type="uint"   name="modelId2"/>
        <field type="uint"   name="modelId3"/>
        <field type="uint"   name="modelId4"/>

        <field type="float"  name="HealthModifier"/>
        <field type="float"  name="PowerModifier"/>

        <field type="int"    name="quest_item_count"/>
        <field type="int"    name="movement_id"/>
        <field type="int"    name="requireExpansion"/>
        <field type="int"    name="questFlag"/>

        <field type="string2" name="sub_name"  size="subname_len"/>
        <field type="string2" name="unk_text"  size="unk_text_len"/>
        <field type="string2" name="icon_name" size="icon_name_len"/>

        <field name="quest_items" type="list" maxsize="6" size="quest_item_count">
            <field type="uint" name="QuestItem"/>
        </field>
    </file>

    <file name="gameobjectcache.wdb" table="gameobjectcache">
        <field type="uint"   name="entry" key="true"/>
        <field type="uint"   name="type"/>
        <field type="uint"   name="displayId"/>
        <field type="string" name="name"/>
        <field type="string" name="name1"/>
        <field type="string" name="name2"/>
        <field type="string" name="name3"/>
        <field type="string" name="name4"/>
        <field type="string" name="castBarCaption"/>
        <field type="string" name="name6"/>
        <field type="list" maxsize="33">
            <field type="uint" name="data"/>
        </field>
        <field type="float"  name="Size"/>
        <field type="list"   name="QuestItemCount" size="8" maxsize="6">
            <field type="int" name="QuestItem" />
        </field>
        <field type="uint"   name="requireExpansion"/>
    </file>

    <file name="questcache.wdb" table="questcache">
        <field type="int"    name="entry" key="true" />
        <field type="int"    name="doubleEntry" />
        <field type="int"    name="Method" />
        <field type="int"    name="QuestLevel" />
        <field type="int"    name="f_5" />
        <field type="int"    name="MinLevel" />
        <field type="int"    name="ZoneOrSort" />
        <field type="int"    name="Type" />
        <field type="int"    name="SuggestedPlayers" />
        <field type="int"    name="NextQuestInChain" />
        <field type="int"    name="RewXPId" />
        <field type="float"  name="unk_f1" /> <!--wod-->
        <field type="int"    name="RewOrReqMoney" />
        <field type="int"    name="RewXPId_2" />
        <field type="float"  name="unk_f2" /> <!--wod-->
        <field type="int"    name="RewMoneyMaxLevel" />
        <field type="int"    name="RewSpell" />
        <field type="int"    name="RewSpellCast" />
        <field type="int"    name="RewHonorAddition" />
        <field type="float"  name="RewHonorMultiplier" />
        <field type="int"    name="SrcItemId" />
        <field type="int"    name="QuestFlags" />
        <field type="int"    name="QuestFlags2" />

        <field type="list" maxsize="4">
            <field type="int" name="RewItemId" />
            <field type="int" name="RewItemCount" />
            <field type="int" name="ReqSourceId" />
            <field type="int" name="ReqSourceCount" />
        </field>

        <field type="list" maxsize="6">
            <field type="int" name="RewChoiceItemId" />
            <field type="int" name="RewChoiceItemQuantity" />
            <field type="int" name="RewChoiceItemDisplayID" />
        </field>

        <field type="int"    name="PointMapId" />
        <field type="float"  name="PointX" />
        <field type="float"  name="PointY" />
        <field type="int"    name="PointOpt" />
        <field type="int"    name="CharTitleId" />
        <field type="int"    name="BonusTalents_100" />
        <field type="int"    name="PlayersSlain_25" />
        <field type="int"    name="RewSkill" />
        <field type="int"    name="RewSkillValue" />
        <field type="int"    name="PortraitGiver" />
        <field type="int"    name="PortraitTurnIn" />

        <field type="list" maxsize="5">
            <field type="int" name="RewRepFaction" />
            <field type="int" name="RewRepValueId" />
            <field type="int" name="RewRepValue" />
        </field>

        <field type="int"   name="UNK_541" />

        <field type="list" maxsize="4">
            <field type="int" name="RewCurrencyId" />
            <field type="int" name="RewCurrencyCount" />
        </field>

        <field type="int"    name="SoundAccept" />
        <field type="int"    name="SoundTurnIn" />

        <field type="int"    name="unk_i_1" /> <!--wod-->
        <field type="int"    name="unk_i_2" /> <!--wod-->
        <field type="int"    name="objective_size" />
        <field type="int"    name="unk_i_4" /> <!--wod-->

        <field type="list" size="objective_size" maxsize="12">
            <field type="int"   name="ObjectiveId" />
            <field type="byte"  name="ObjectiveType" />
            <field type="byte"  name="ObjectiveStorageIndex" />
            <field type="int"   name="ObjectiveObjectID" />
            <field type="int"   name="ObjectiveAmount" />
            <field type="int"   name="ObjectiveFlags" />
            <field type="float" name="ObjectiveUnk_6_c" /> <!--wod-->
            <field type="list"  name="ObjectiveVisualEffectsCount" size="32" maxsize="11">
                <field type="int" name="ObjectiveVisualEffect" />
            </field>
            <field type="pstring" name="ObjectiveDescription" size="8"/>
        </field>

        <field type="int" name="sTitle"               size="9" />
        <field type="int" name="sObjectives"          size="12"/>
        <field type="int" name="sDetails"             size="12"/>
        <field type="int" name="sEndText"             size="9" />
        <field type="int" name="sPortraitGiverText"   size="10"/>
        <field type="int" name="sPortraitGiverName"   size="8" />
        <field type="int" name="sPortraitTurnInText"  size="10"/>
        <field type="int" name="sPortraitTurnInName"  size="8" />
        <field type="int" name="sCompletedText"       size="11"/>

        <field type="string" name="Title"               size="sTitle"/>
        <field type="string" name="Objectives"          size="sObjectives"/>
        <field type="string" name="Details"             size="sDetails"/>
        <field type="string" name="EndText"             size="sEndText"/>
        <field type="string" name="PortraitGiverText"   size="sPortraitGiverText"/>
        <field type="string" name="PortraitGiverName"   size="sPortraitGiverName"/>
        <field type="string" name="PortraitTurnInText"  size="sPortraitTurnInText"/>
        <field type="string" name="PortraitTurnInName"  size="sPortraitTurnInName"/>
        <field type="string" name="CompletedText"       size="sCompletedText"/>
    </file>

    <file name="npccache.wdb" table="npccache">
        <field type="uint"   name="Id" key="true"/>

        <field type="float"  name="prob1"/>
        <field type="float"  name="prob2"/>
        <field type="float"  name="prob3"/>
        <field type="float"  name="prob4"/>
        <field type="float"  name="prob5"/>
        <field type="float"  name="prob6"/>
        <field type="float"  name="prob7"/>
        <field type="float"  name="prob8"/>

        <field type="uint"  name="textId1"/>
        <field type="uint"  name="textId2"/>
        <field type="uint"  name="textId3"/>
        <field type="uint"  name="textId4"/>
        <field type="uint"  name="textId5"/>
        <field type="uint"  name="textId6"/>
        <field type="uint"  name="textId7"/>
        <field type="uint"  name="textId8"/>
    </file>

    <file name="pagetextcache.wdb" table="pagetextcache">
        <field type="uint"    name="entry" key="true"/>
        <field type="uint"    name="doubleEntry"/>
        <field type="uint"    name="next_page"/>
        <field type="pstring" name="Text" size="12"/>
    </file>

    <file name="BroadcastText.(db2|adb)" table="broadcasttext">
        <field type="uint"   name="entry" key="true"/>
        <field type="uint"   name="lang" />
        <field type="string" name="MaleText" />
        <field type="string" name="FemaleText" />
        <field type="list" maxsize="3">
            <field type="uint" name="EmoteId" />
        </field>
        <field type="list" maxsize="3">
            <field type="uint" name="EmoteDelay" />
        </field>
        <field type="uint"   name="SoundId" />
        <field type="uint"   name="unk8" />
        <field type="uint"   name="unk9" />
    </file>

    <file name="BattlePetAbility.(db2|adb)" table="battlepetability">
        <field type="int"    name="entry" key="true"/>
        <field type="int"    name="index" />
        <field type="int"    name="newField3" />
        <field type="int"    name="index2" />
        <field type="int"    name="newField5" />
        <field type="int"    name="newField6" />
        <field type="string" name="spell_name" />
        <field type="string" name="spell_description" />
    </file>

    <file name="SceneScript.(db2|adb)" table="scenescript">
        <field type="uint"   name="entry" key="true"/>
        <field type="string" name="Name"/>
        <field type="string" name="Script"/>
        <field type="int"    name="Prev"/>
        <field type="int"    name="Next"/>
    </file>

    <file name="Toy.(db2|adb)" table="toy">
        <field type="int"    name="entry" key="true" />
        <field type="int"    name="itemId" />
        <field type="int"    name="unk" /> <!-- 0 - ???, 2 - ??? -->
        <field type="string" name="sourceText" />
        <field type="int"    name="sourceType" /> <!-- -1 - none, 0 - drop, 1 - reward, 2 - vendor, 3 - profession, 5 - achievement, 6 - event, 7 - promotion -->
    </file>

</Definition>